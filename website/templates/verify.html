<html>
{% extends "base.html" %} {% block title %}Vaccine Details{% endblock %} {% block content
%}
<head>
<style>
.button{
border-radius: 8px;
padding: 15px 32px;
text-align: center;
text-decoration: none;
transition-duration: 0.4s;
display: inline-block;
font-size: 16px;
margin: 4px 2px;
cursor: pointer;
}

.button:hover {
background-color: gray;
color: white;
}
</style>
</head>
<h1 align="center">Vaccine Certificate Details</h1>
<br/>
<div class="container"
    <div class="card" style="width: 18rem;">
            <img src="static/QRCode{{certs.id - 1}}.png" class="card-img-top">
        <div class="card-body">
            <h5 class="card-title"><b>{{ certs.firstName }}  {{certs.lastName}}'s Certificate</b></h5>
            <p class="card-text"></p>
        </div>
        <ul class="list-group list-group-flush">
            <li class="list-group-item"><b>ID:</b>&nbsp;{{ certs.user_id }} </li>
            <li class="list-group-item"><b>Account Number:</b>&nbsp;{{ users.accountNum }} </li>
            <li class="list-group-item"><b>Date of Birth:</b>&nbsp;{{ certs.DOB }} </li>
            <li class="list-group-item"><b>Status:</b>&nbsp;{{ certs.status }} </li>
            <li class="list-group-item"><b>Country:</b>&nbsp;{{ certs.country }} </li>
            <li class="list-group-item"><b>Manufacturer:</b>&nbsp;{{ certs.manufacturer }} </li>
            <li class="list-group-item"><b>Vaccination Date:</b>&nbsp;{{ certs.vaccinationDate }} </li>
            <li class="list-group-item"><b>Cert Issuer:</b>&nbsp;{{ certs.certIssuer }} </li>
        </ul>
    </div>
</div>

<div id="button" style="text-align: center;">
    <a href="#" type="hidden" id="certRecord" name="certRecord" data-toggle="modal" data-target='#verify'
    button class="button" value="certs.user_id" onclick="myFunction({{ certs.user_id }})">Verify</a>
</div>

<div id="button" style="text-align: center;">
    <a href="/adminMenu"><button class="button">Back to Admin Menu</button></a>
</div>

<script>
    function myFunction(user_id) {
      document.getElementById("action").value = user_id;
    }
</script>


<div class="modal fade" id="verify" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
              aria-hidden="true">&times;</span></button>
          <h4 class="modal-title"> <i class="fa fa-id-card-o"></i>Verification Check</h4>
        </div>
        <div class="modal-body">
                <div class="form-group">
                    <b>Hash of Data on Blockchain:</b>
                    <l>{{block_hash}}</l>
                    <br>
                    <b>Hash of Data on Off-Chain Storage</b>
                    <l>{{store_hash}}</l>
                    <br>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default btn-danger" data-dismiss="modal"><i class="fa fa-remove"
                        aria-hidden="true"></i>Cancel</button>
                    <button type="submit" id="action" name="action" class="btn btn-primary" value="" style="width:100px"><i
                        class="fa fa-check"></i> Unlock</button>
                </div>
        </div>
      </div>
    </div>
</div>
{% endblock %}
</html>